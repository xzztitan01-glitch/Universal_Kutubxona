<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kitob qidiruv</title>
  <style>
    :root{
      --blur: 70px;
      --opacity: 0.7;
      --speed: 28s;
    }
    *{box-sizing:border-box}
    html, body{ height:100%; }
    body{
      margin:0;
      color:#0f172a;
      font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial;
      background:#0b1020;
      overflow-x:hidden;
    }

    .animated-bg{
      position:fixed;
      inset:-20vh -20vw;
      z-index:-1;
      filter: blur(var(--blur));
      opacity: var(--opacity);
      transform-origin:50% 50%;
      animation: spin var(--speed) linear infinite;
      background:
        conic-gradient(
          from 0deg at 50% 50%,
          #ff6b6b,
          #f8e71c,
          #7ed56f,
          #4facfe,
          #a16eff,
          #ff6b6b
        );
    }
    @keyframes spin{ to{ transform: rotate(360deg) scale(1.1); } }

    .stars, .stars::before, .stars::after{
      position:fixed; inset:0; content:""; z-index:-2; pointer-events:none;
      background-repeat:repeat; background-position:0 0;
      animation: drift 120s linear infinite;
    }
    .stars{
      background-image: radial-gradient(#ffffff44 1px, transparent 1px);
      background-size: 3px 3px;
      opacity:.4;
    }
    .stars::before{
      background-image: radial-gradient(#ffffff22 1px, transparent 1px);
      background-size: 2px 2px;
      animation-duration: 200s;
    }
    .stars::after{
      background-image: radial-gradient(#ffffff11 1px, transparent 1px);
      background-size: 1px 1px;
      animation-duration: 300s;
    }
    @keyframes drift{ to{ background-position: 10000px 0; } }

    .container{
      min-height:100%;
      display:grid; place-items:center;
      padding: clamp(16px, 3vw, 48px);
    }
    .card{
      width:min(800px, 95vw);
      background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.18);
      border-radius: 24px;
      box-shadow: 0 10px 40px rgba(0,0,0,.35);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      padding: clamp(18px, 4vw, 40px);
      color:#f8fafc;
    }
    .title{ font-size: clamp(28px, 4.5vw, 44px); margin:0 0 .4em }
    .lead{ font-size: clamp(16px, 2.4vw, 18px); opacity:.9; margin:0 0 1.2em }
    .row{ display:flex; gap:12px; flex-wrap:wrap }
    .btn{
      appearance:none; cursor:pointer; user-select:none;
      padding:12px 18px; border-radius:999px; border:none;
      background:#ffffff; color:#0b1020; font-weight:600; letter-spacing:.2px;
      transition: transform .12s ease, box-shadow .12s ease, background .2s;
      box-shadow: 0 8px 22px rgba(0,0,0,.25);
    }
    .btn:hover{ transform: translateY(-2px); box-shadow:0 10px 28px rgba(0,0,0,.3); }
    .btn:active{ transform: translateY(0); }

    .note{ opacity:.85; font-size:14px; margin-top:14px }
    .results{ margin-top:20px; display:grid; gap:16px; }
    .book{
      background:rgba(255,255,255,.1);
      border-radius:12px;
      padding:12px;
      display:flex; gap:12px;
      align-items:flex-start;
    }
    .book img{ width:80px; height:auto; border-radius:8px; }
    .book-info{ flex:1; }
    .book-title{ font-weight:600; margin:0 0 6px }
    .book-authors{ font-size:14px; opacity:.8; margin:0 0 6px }
  </style>
</head>
<body>
  <div class="animated-bg" aria-hidden="true"></div>
  <div class="stars" aria-hidden="true"></div>

  <main class="container">
    <section class="card">
      <h1 class="title">Kitob qidiring üìö</h1>
      <p class="lead">Qidiruv maydoniga kitob nomini yozing va natijalarni ko‚Äòring.</p>

      <div class="row">
        <input id="query" type="text" placeholder="Kitob nomini yozing..." style="padding:12px 18px; border-radius:12px; border:none; flex:1; min-width:200px;">
        <button class="btn" id="searchBtn">Qidirish</button>
      </div>

      <div id="results" class="results"></div>
    </section>
  </main>

  <script>
    const searchBtn = document.getElementById('searchBtn');
    const queryInput = document.getElementById('query');
    const resultsDiv = document.getElementById('results');

    searchBtn.addEventListener('click', async () => {
      const query = queryInput.value.trim();
      if(!query) return;

      resultsDiv.innerHTML = '<p>‚è≥ Qidirilmoqda...</p>';
      try {
        const res = await fetch(`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(query)}`);
        const data = await res.json();

        if(!data.items){
          resultsDiv.innerHTML = '<p>Hech narsa topilmadi üò¢</p>';
          return;
        }

        resultsDiv.innerHTML = data.items.map(item => {
          const vol = item.volumeInfo;
          return `
            <div class="book">
              ${vol.imageLinks ? `<img src="${vol.imageLinks.thumbnail}" alt="">` : ''}
              <div class="book-info">
                <p class="book-title">${vol.title || 'Nomi yo‚Äòq'}</p>
                <p class="book-authors">${vol.authors ? vol.authors.join(', ') : 'Muallif topilmadi'}</p>
                <p class="book-desc">${vol.description ? vol.description.substring(0,120)+'...' : 'Tavsif mavjud emas'}</p>
              </div>
            </div>
          `;
        }).join('');
      } catch(err){
        resultsDiv.innerHTML = '<p>Xatolik yuz berdi ‚ö†Ô∏è</p>';
      }
    });
  </script>
</body>
</html>
